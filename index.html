<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe Titans</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            500: '#64748b',
                        },
                        secondary: {
                            500: '#06b6d4',
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .cell {
            transition: all 0.3s ease;
        }
        .cell:hover {
            transform: scale(1.05);
        }
        .winning-cell {
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { background-color: rgba(6, 182, 212, 0.1); }
            50% { background-color: rgba(6, 182, 212, 0.3); }
            100% { background-color: rgba(6, 182, 212, 0.1); }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col items-center justify-center p-4">
    <header class="text-center mb-8">
        <h1 class="text-4xl font-bold text-primary-500 mb-2">Tic Tac Toe Titans</h1>
        <p class="text-slate-600">A classic game with a modern twist</p>
    </header>

    <main class="w-full max-w-md">
        <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
            <div class="flex justify-between items-center mb-6">
                <div class="text-center">
                    <p class="text-sm text-slate-500">Player X</p>
                    <div class="text-2xl font-bold text-primary-500">0</div>
                </div>
                <div class="text-center">
                    <p class="text-sm text-slate-500">Current Turn</p>
                    <div id="currentPlayer" class="text-2xl font-bold text-secondary-500">X</div>
                </div>
                <div class="text-center">
                    <p class="text-sm text-slate-500">Player O</p>
                    <div class="text-2xl font-bold text-primary-500">0</div>
                </div>
            </div>

            <div id="board" class="grid grid-cols-3 gap-3 mb-6">
                <!-- Cells will be generated by JavaScript -->
            </div>

            <div class="flex justify-between">
                <button id="resetBtn" class="bg-primary-500 hover:bg-primary-600 text-white px-4 py-2 rounded-lg transition">
                    Reset Game
                </button>
                <button id="newGameBtn" class="bg-secondary-500 hover:bg-secondary-600 text-white px-4 py-2 rounded-lg transition">
                    New Game
                </button>
            </div>
        </div>

        <div id="message" class="text-center text-lg font-semibold text-secondary-500 hidden"></div>
    </main>

    <footer class="mt-8 text-center text-slate-500 text-sm">
        <p>BLND</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const board = document.getElementById('board');
            const currentPlayerDisplay = document.getElementById('currentPlayer');
            const messageDisplay = document.getElementById('message');
            const resetBtn = document.getElementById('resetBtn');
            const newGameBtn = document.getElementById('newGameBtn');
            
            let currentPlayer = 'X';
            let gameState = ['', '', '', '', '', '', '', '', ''];
            let gameActive = true;
            let scores = { X: 0, O: 0 };
            
            // Winning conditions
            const winningConditions = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8], // rows
                [0, 3, 6], [1, 4, 7], [2, 5, 8], // columns
                [0, 4, 8], [2, 4, 6]             // diagonals
            ];
            
            // Create the board cells
            function createBoard() {
                board.innerHTML = '';
                for (let i = 0; i < 9; i++) {
                    const cell = document.createElement('div');
                    cell.className = 'cell bg-gray-100 h-24 flex items-center justify-center text-4xl font-bold rounded-lg cursor-pointer';
                    cell.setAttribute('data-index', i);
                    cell.addEventListener('click', handleCellClick);
                    board.appendChild(cell);
                }
            }
            
            // Handle cell click
            function handleCellClick(e) {
                const clickedCell = e.target;
                const clickedCellIndex = parseInt(clickedCell.getAttribute('data-index'));
                
                if (gameState[clickedCellIndex] !== '' || !gameActive) return;
                
                gameState[clickedCellIndex] = currentPlayer;
                clickedCell.textContent = currentPlayer;
                clickedCell.classList.add(currentPlayer === 'X' ? 'text-primary-500' : 'text-secondary-500');
                
                checkResult();
            }
            
            // Check for win or draw
            function checkResult() {
                let roundWon = false;
                
                for (let i = 0; i < winningConditions.length; i++) {
                    const [a, b, c] = winningConditions[i];
                    
                    if (gameState[a] === '' || gameState[b] === '' || gameState[c] === '') continue;
                    
                    if (gameState[a] === gameState[b] && gameState[b] === gameState[c]) {
                        roundWon = true;
                        highlightWinningCells([a, b, c]);
                        break;
                    }
                }
                
                if (roundWon) {
                    scores[currentPlayer]++;
                    showMessage(`Player ${currentPlayer} wins!`);
                    gameActive = false;
                    return;
                }
                
                if (!gameState.includes('')) {
                    showMessage('Game ended in a draw!');
                    gameActive = false;
                    return;
                }
                
                changePlayer();
            }
            
            // Highlight winning cells
            function highlightWinningCells(cells) {
                cells.forEach(index => {
                    const cell = document.querySelector(`[data-index="${index}"]`);
                    cell.classList.add('winning-cell');
                });
            }
            
            // Change player
            function changePlayer() {
                currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                currentPlayerDisplay.textContent = currentPlayer;
                currentPlayerDisplay.className = `text-2xl font-bold ${currentPlayer === 'X' ? 'text-primary-500' : 'text-secondary-500'}`;
            }
            
            // Show message
            function showMessage(message) {
                messageDisplay.textContent = message;
                messageDisplay.classList.remove('hidden');
            }
            
            // Reset game (same board)
            function resetGame() {
                gameState = ['', '', '', '', '', '', '', '', ''];
                gameActive = true;
                currentPlayer = 'X';
                currentPlayerDisplay.textContent = currentPlayer;
                currentPlayerDisplay.className = 'text-2xl font-bold text-primary-500';
                messageDisplay.classList.add('hidden');
                
                document.querySelectorAll('.cell').forEach(cell => {
                    cell.textContent = '';
                    cell.classList.remove('winning-cell', 'text-primary-500', 'text-secondary-500');
                });
            }
            
            // New game (reset scores)
            function newGame() {
                resetGame();
                scores = { X: 0, O: 0 };
                document.querySelectorAll('.text-2xl.font-bold.text-primary-500').forEach(el => {
                    if (el.textContent === '0') el.textContent = '0';
                });
            }
            
            // Event listeners
            resetBtn.addEventListener('click', resetGame);
            newGameBtn.addEventListener('click', newGame);
            
            // Initialize the game
            createBoard();
        });
    </script>
    <script>feather.replace();</script>
</body>
</html>
